(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.cells=[],this.size=e,this.position=null,this.count=0,this.misses=0,this.goblinInterval=null}var n,i,a;return n=t,(i=[{key:"buildGameBoard",value:function(){var e=this,t=document.getElementsByClassName("game-container"),n=document.createElement("div");n.className="game",t[0].insertAdjacentElement("afterBegin",n);for(var i=0;i<Math.pow(this.size,2);i+=1)n.innerHTML+='<div class="game-cell"></div>';var a=document.getElementsByClassName("game-cell"),s=document.getElementsByClassName("active"),o=document.getElementById("count"),r=document.getElementById("misses");n.addEventListener("click",(function(t){t.target===s[0]?(s[0].classList.remove("active"),e.count+=1,o.innerHTML=e.count):(e.misses+=1,r.innerHTML=e.misses)})),this.goblin(s,a,t,n)}},{key:"goblin",value:function(e,t,n,i){var a=this;this.goblinInterval=setInterval((function(){a.moveing(e,t,n,i)}),1e3)}},{key:"moveing",value:function(e,t,n,i){this.misses<5?(this.position=this.getRandom(),e[0]&&e[0].classList.remove("active"),t[this.position].classList.add("active")):this.finishGame(n,i)}},{key:"getRandom",value:function(){var e=Math.floor(Math.random()*Math.pow(this.size,2));return e===this.position?this.getRandom():e}},{key:"finishGame",value:function(e,t){var n=this;clearInterval(this.goblinInterval);var i=document.getElementsByClassName("general"),a=document.createElement("div");a.classList.add("message"),a.textContent="Fatality.. Press ENTER for the next game!",i[0].insertAdjacentElement("afterBegin",a),document.addEventListener("keydown",(function(s){"Enter"===s.key&&(n.misses=0,n.count=0,i[0].removeChild(a),e[0].removeChild(t),n.buildGameBoard())}))}},{key:"start",value:function(){this.buildGameBoard()}}])&&e(n.prototype,i),a&&e(n,a),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.document=t,this.cursor=null}var t,i,a;return t=e,(i=[{key:"start",value:function(){var e=this;this.cursor=document.getElementsByClassName("cursor"),this.document.addEventListener("mousemove",(function(t){var n=t.clientX,i=t.clientY;e.cursor[0].style.left="".concat(n,"px"),e.cursor[0].style.top="".concat(i,"px")}))}}])&&n(t.prototype,i),a&&n(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();new t(4).start(),new i(document).start()})();